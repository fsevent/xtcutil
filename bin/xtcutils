#!/usr/bin/ruby

# usage:
#   xtcutils help
#   xtcutils json file.xtc
#   xtcutils show file.xtc

require 'pp'

def main_help(argv)
  puts <<'End'
usage:
  xtcutils help
  xtcutils json file.xtc
  xtcutils show file.xtc
End
end

def main(argv)
  if argv.empty?
    argv.unshift 'help'
  end
  subcommand = argv.shift
  case subcommand
  when 'help'
    main_help(argv)
  when 'json'
    require 'xtcutils/cmd_json'; main_json(argv)
  when 'show'
    require 'xtcutils/cmd_show'; main_show(argv)
  else
    $stderr.print "unexpected subcommand: #{subcommand}"
    exit false
  end
end

main ARGV
